"use strict";!function(t,e){t(document).ready(function(){var e=t("#statistic-list");if(e.length){t.get(ghost.url.api("posts",{limit:"all"})).done(function(t){e[0].querySelector(".total-posts").innerHTML=t.posts.length}),t.get(ghost.url.api("tags",{limit:"all"})).done(function(t){e[0].querySelector(".total-tags").innerHTML=t.tags.length});var a=new Date(2017,2,13),n=new Date;e[0].querySelector(".site-runtime").innerHTML=parseInt((n-a)/864e5)}var r=t("#archive-list-container");if(r.length){var s=function(e){var a={};t.each(e.posts,function(t,e){var n=new Date(e.published_at),r=n.getFullYear(),s=n.getMonth();r in a||(a[r]={}),s in a[r]||(a[r][s]=[]),a[r][s].push(e),console.log(e)});for(var n,s,o,l,u,c,h,p=Object.keys(a).map(function(t){return parseInt(t)}).sort(function(t,e){return e-t}),g='<ul class="archive-list">',m=["January","February","March","April","May","June","July","August","September","October","November","December"],f=0,d=p.length;f<d;f++){s=p[f],g+='<li class="post-date-item post-date-year"><h2>'+s+"</h2></li>",n=Object.keys(a[s]).map(function(t){return parseInt(t)}).sort(function(t,e){return e-t});for(var v=0,y=n.length;v<y;v++){o=n[v],l=a[s][o],g+='<li class="post-date-item post-date-month"><h3>'+m[o]+" "+s+"</h3></li>";for(var b=0,M=l.length;b<M;b++)h=new Date(l[b].published_at).getDate(),o=i(parseInt(o)+1),c=s+"-"+o+"-"+i(h),h=s+"年"+o+"月"+i(h)+"日",u=l[b].tags.map(function(t){return"<a href='/tag/"+t.slug+"'>"+t.name+"</a>"}).join(", "),console.log(l[b].author),g+='<li class="post-item"><a href="'+l[b].url+'">'+l[b].title+'</a><footer class="post-meta"><img class="author-thumb" src="'+l[b].author.image+'" alt="'+l[b].author.image+'" nopin="nopin" /> <a class="post-meta-author" href="/author/'+l[b].author.slug+'">'+l[b].author.name+'</a><i class="split-point"></i>标签: &nbsp;'+u+'<i class="split-point"></i><time class="post-date" datetime="'+c+'">'+h+"</time></footer></li>"}}g+="</ul>",r[0].innerHTML=g},i=function(t){return t>9?t:"0"+t};t.get(ghost.url.api("posts",{limit:"all",include:"tags,author"})).done(s)}})}(jQuery);